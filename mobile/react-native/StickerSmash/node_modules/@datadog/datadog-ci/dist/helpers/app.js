"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getCommonAppBaseURL = exports.getBaseUrl = exports.DEFAULT_DATADOG_SUBDOMAIN = void 0;
exports.DEFAULT_DATADOG_SUBDOMAIN = 'app';
const getBaseUrl = () => {
    const site = process.env.DATADOG_SITE || process.env.DD_SITE || 'datadoghq.com';
    const subdomain = process.env.DD_SUBDOMAIN || '';
    return (0, exports.getCommonAppBaseURL)(site, subdomain);
};
exports.getBaseUrl = getBaseUrl;
const getCommonAppBaseURL = (datadogSite, subdomain) => {
    const validSubdomain = subdomain || exports.DEFAULT_DATADOG_SUBDOMAIN;
    const datadogSiteParts = datadogSite.split('.');
    if (datadogSiteParts.length === 3) {
        if (validSubdomain === exports.DEFAULT_DATADOG_SUBDOMAIN) {
            return `https://${datadogSite}/`;
        }
        return `https://${validSubdomain}.${datadogSiteParts[1]}.${datadogSiteParts[2]}/`;
    }
    return `https://${validSubdomain}.${datadogSite}/`;
};
exports.getCommonAppBaseURL = getCommonAppBaseURL;
//# sourceMappingURL=app.js.map