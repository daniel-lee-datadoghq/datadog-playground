"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.sanitizeReleaseVersion = exports.getBundleName = exports.getReactNativeVersion = void 0;
const fs_1 = require("fs");
const getReactNativeVersion = (packageJsonPath) => {
    if (!(0, fs_1.existsSync)(packageJsonPath)) {
        return undefined;
    }
    try {
        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-var-requires
        return require(packageJsonPath).version;
    }
    catch (e) {
        return undefined;
    }
};
exports.getReactNativeVersion = getReactNativeVersion;
const DEFAULT_ANDROID_BUNDLE_NAME = 'index.android.bundle';
const DEFAULT_IOS_BUNDLE_NAME = 'main.jsbundle';
const getBundleName = (bundlePath, platform) => {
    if (bundlePath) {
        const splitPath = bundlePath.split('/');
        return splitPath[splitPath.length - 1];
    }
    if (platform === 'ios') {
        return DEFAULT_IOS_BUNDLE_NAME;
    }
    return DEFAULT_ANDROID_BUNDLE_NAME;
};
exports.getBundleName = getBundleName;
const sanitizeReleaseVersion = (version) => {
    return version.replace(/^(>=|<=|==|=|<|>|\^|~)/, '').trim();
};
exports.sanitizeReleaseVersion = sanitizeReleaseVersion;
//# sourceMappingURL=utils.js.map