{"version":3,"names":["createHash","existsSync","mkdirSync","writeFileSync","unlinkSync","countLines","path","createCountingSet","DEBUG_ID_BUNDLE_REGEX","DEBUG_ID_MODULE_PATH","DEBUG_ID_PLACEHOLDER","SOURCE_MAP_COMMENT","DEBUG_ID_COMMENT","DEBUG_ID_METADATA_PREFIX","createDebugIdModule","debugId","debugIdCode","createDebugIdSnippet","setSource","code","dependencies","Map","getSource","Buffer","from","inverseDependencies","output","type","data","lineCount","map","addDebugIdModule","preModules","debugIdModule","result","hasPrelude","length","splice","unshift","getDebugIdFromBundleSource","match","RegExp","undefined","createDebugIdFromBundle","bundle","hash","update","pre","modules","post","createDebugIdFromString","digest","str","md5sum","md5Hash","v4variant","substring","charCodeAt","toLowerCase","injectDebugIdInCode","replace","injectDebugIdInCodeAndSourceMap","sourcemap","codeWithDebugId","_isDebugIdInBundle","_replaceDebugIdInBundle","_insertDebugIdCommentInBundle","bundleMap","JSON","parse","writeDebugIdToFile","stringify","datadogPackageJsonPath","require","resolve","datadogTmpDir","join","dirname","debugIdFilePath","error","console","warn","bundleCode","checkIfDebugIdModuleExists","findIndex","module","debugIdComment","indexOfSourceMapComment","lastIndexOf","before","after"],"sourceRoot":"../../../../src","sources":["metro/plugin/debugIdHelper.ts"],"mappings":"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","ignoreList":[]}
