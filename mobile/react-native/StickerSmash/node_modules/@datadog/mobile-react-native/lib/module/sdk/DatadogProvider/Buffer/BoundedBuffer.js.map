{"version":3,"names":["InternalLog","SdkVerbosity","DdSdk","getErrorStackTrace","DatadogBuffer","DEFAULT_BUFFER_SIZE","BoundedBuffer","buffer","idTable","telemetryBuffer","constructor","bufferSize","addCallback","callback","length","push","_type","logBufferOverflow","Promise","resolve","undefined","addCallbackReturningId","bufferId","generateRandomBufferId","returnedBufferId","error","logRandomIdGenerationError","addCallbackWithId","withBufferId","drain","bufferIndex","item","callbackId","log","WARN","drainTelemetry","addTelemetryEvent","console","warn","Math","random","tries","hash","toString","slice","Error","message","stack","kind","occurrences","Object","values","forEach","telemetryError"],"sourceRoot":"../../../../../src","sources":["sdk/DatadogProvider/Buffer/BoundedBuffer.ts"],"mappings":"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","ignoreList":[]}
