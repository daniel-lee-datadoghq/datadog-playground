{"version":3,"names":["_InternalLog","require","_SdkVerbosity","_DdSdk","_errorUtils","_DatadogBuffer","DEFAULT_BUFFER_SIZE","BoundedBuffer","DatadogBuffer","buffer","idTable","telemetryBuffer","constructor","bufferSize","addCallback","callback","length","push","_type","logBufferOverflow","Promise","resolve","undefined","addCallbackReturningId","bufferId","generateRandomBufferId","returnedBufferId","error","logRandomIdGenerationError","addCallbackWithId","withBufferId","drain","bufferIndex","item","callbackId","InternalLog","log","SdkVerbosity","WARN","drainTelemetry","addTelemetryEvent","getErrorStackTrace","console","warn","Math","random","tries","hash","toString","slice","Error","message","stack","kind","occurrences","Object","values","forEach","DdSdk","telemetryError","exports"],"sourceRoot":"../../../../../src","sources":["sdk/DatadogProvider/Buffer/BoundedBuffer.ts"],"mappings":"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","ignoreList":[]}
