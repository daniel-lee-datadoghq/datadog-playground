{"version":3,"names":["_InternalLog","require","_SdkVerbosity","_bufferNativeCall","_DdSdk","_GlobalState","_argsUtils","_errorUtils","_DefaultTimeProvider","_DdAttributes","_actionEventMapper","_errorEventMapper","_resourceEventMapper","_DatadogTracingIdentifier","_TracingIdentifier","_distributedTracingHeaders","_sessionIdHelper","generateEmptyPromise","Promise","resolve","DdRumWrapper","nativeRum","default","errorEventMapper","generateErrorEventMapper","undefined","resourceEventMapper","generateResourceEventMapper","actionEventMapper","generateActionEventMapper","timeProvider","DefaultTimeProvider","startView","key","name","context","timestampMs","now","InternalLog","log","SdkVerbosity","DEBUG","bufferVoidNativeCall","validateContext","stopView","startAction","type","lastActionData","stopAction","args","nativeCallArgs","getStopActionNativeCallArgs","callNativeStopAction","setTimeProvider","addAction","actionContext","mappedEvent","applyEventMapper","startResource","method","url","stopResource","statusCode","kind","size","resourceContext","addError","message","source","stacktrace","fingerprint","getErrorContext","updatedContext","DdAttributes","errorSourceType","addTiming","addViewLoadingTime","overwrite","stopSession","addFeatureFlagEvaluation","value","JSON","stringify","getCurrentSessionId","GlobalState","instance","isInitialized","sessionId","setCachedSessionId","getTracingContext","tracingSamplingRate","firstPartyHosts","getCachedSessionId","getTracingContextForPropagators","propagators","generateTraceId","DatadogTracingIdentifier","TracingIdentifier","createTraceId","generateSpanId","createSpanId","registerErrorEventMapper","unregisterErrorEventMapper","registerResourceEventMapper","unregisterResourceEventMapper","registerActionEventMapper","unregisterActionEventMapper","isNewStopActionAPI","isOldStopActionAPI","DdSdk","telemetryDebug","WARN","DdRum","exports"],"sourceRoot":"../../../src","sources":["rum/DdRum.ts"],"mappings":"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","ignoreList":[]}
