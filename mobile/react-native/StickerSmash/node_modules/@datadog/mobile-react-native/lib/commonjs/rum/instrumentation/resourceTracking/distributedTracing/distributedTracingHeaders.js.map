{"version":3,"names":["_types","require","_URLHostParser","_DatadogTracingContext","_TracingIdentifier","_distributedTracing","_firstPartyHosts","SAMPLING_PRIORITY_HEADER_KEY","exports","ORIGIN_HEADER_KEY","ORIGIN_RUM","TRACE_ID_HEADER_KEY","PARENT_ID_HEADER_KEY","TAGS_HEADER_KEY","DD_TRACE_ID_TAG","DD_RUM_SESSION_ID_TAG","TRACECONTEXT_HEADER_KEY","TRACESTATE_HEADER_KEY","BAGGAGE_HEADER_KEY","B3_HEADER_KEY","B3_MULTI_TRACE_ID_HEADER_KEY","B3_MULTI_SPAN_ID_HEADER_KEY","B3_MULTI_SAMPLED_HEADER_KEY","getTracingHeadersFromAttributes","tracingAttributes","headers","tracingStrategy","propagatorTypes","forEach","propagator","PropagatorType","DATADOG","push","header","value","samplingPriorityHeader","traceId","toString","TracingIdFormat","lowDecimal","spanId","decimal","paddedHighHex","TRACECONTEXT","isSampled","generateTraceContextHeader","version","parentId","generateTraceStateHeader","B3","generateB3Header","B3MULTI","paddedHex","rumSessionId","getTracingContext","url","tracingSamplingRate","firstPartyHosts","hostname","URLHostParser","firstPartyHostsRegexMap","firstPartyHostsRegexMapBuilder","getTracingAttributes","getTracingContextForAttributes","getTracingContextForPropagators","propagators","generateTracingAttributesWithSampling","requestHeaders","resourceContext","DatadogTracingContext","flags","sampled","origin","parent","join"],"sourceRoot":"../../../../../../src","sources":["rum/instrumentation/resourceTracking/distributedTracing/distributedTracingHeaders.ts"],"mappings":"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","ignoreList":[]}
