{"version":3,"names":["_crypto","require","_fs","_countLines","_interopRequireDefault","_path","_utils","e","__esModule","default","DEBUG_ID_BUNDLE_REGEX","DEBUG_ID_MODULE_PATH","exports","DEBUG_ID_PLACEHOLDER","SOURCE_MAP_COMMENT","DEBUG_ID_COMMENT","DEBUG_ID_METADATA_PREFIX","createDebugIdModule","debugId","debugIdCode","createDebugIdSnippet","setSource","code","dependencies","Map","getSource","Buffer","from","inverseDependencies","createCountingSet","path","output","type","data","lineCount","countLines","map","addDebugIdModule","preModules","debugIdModule","result","hasPrelude","length","splice","unshift","getDebugIdFromBundleSource","match","RegExp","undefined","createDebugIdFromBundle","bundle","hash","createHash","update","pre","modules","post","createDebugIdFromString","digest","str","md5sum","md5Hash","v4variant","substring","charCodeAt","toLowerCase","injectDebugIdInCode","replace","injectDebugIdInCodeAndSourceMap","sourcemap","codeWithDebugId","_isDebugIdInBundle","_replaceDebugIdInBundle","_insertDebugIdCommentInBundle","bundleMap","JSON","parse","writeDebugIdToFile","stringify","datadogPackageJsonPath","resolve","datadogTmpDir","join","dirname","debugIdFilePath","existsSync","unlinkSync","mkdirSync","writeFileSync","error","console","warn","bundleCode","checkIfDebugIdModuleExists","findIndex","module","debugIdComment","indexOfSourceMapComment","lastIndexOf","before","after"],"sourceRoot":"../../../../src","sources":["metro/plugin/debugIdHelper.ts"],"mappings":"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","ignoreList":[]}
